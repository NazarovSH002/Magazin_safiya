# üõ°Ô∏è –°–∏—Å—Ç–µ–º–∞ –∑–∞—â–∏—Ç—ã –¥–∞–Ω–Ω—ã—Ö MongoDB

## ‚úÖ –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ

–î–æ–±–∞–≤–ª–µ–Ω–∞ **–º–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤–∞—è –∑–∞—â–∏—Ç–∞** –æ—Ç —Å–ª—É—á–∞–π–Ω–æ–π –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∏ –æ–±–ª–∞—á–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö MongoDB –ª–æ–∫–∞–ª—å–Ω—ã–º–∏ —Ñ–∞–π–ª–∞–º–∏.

---

## üîí –£—Ä–æ–≤–Ω–∏ –∑–∞—â–∏—Ç—ã

### **–£—Ä–æ–≤–µ–Ω—å 1: –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ä–µ–∂–∏–º–∞ —Ä–∞–±–æ—Ç—ã**

–°–µ—Ä–≤–µ—Ä –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç, –±—ã–ª–∞ –ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ MongoDB –≤ `.env`:

```javascript
let mongoDBWasConfigured = false;

if (MONGODB_URI) {
    mongoDBWasConfigured = true; // MongoDB –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞
    // –ü–æ–ø—ã—Ç–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è...
}
```

### **–£—Ä–æ–≤–µ–Ω—å 2: –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è**

–ï—Å–ª–∏ MongoDB –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞, –Ω–æ **–≤—Ä–µ–º–µ–Ω–Ω–æ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞** (–Ω–µ—Ç –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞, –ø—Ä–æ–±–ª–µ–º–∞ —Å DNS):

```javascript
if (mongoDBWasConfigured && !isUsingMongoDB) {
    // üõ°Ô∏è –ó–ê–©–ò–¢–ê: –ù–ï —Å–æ—Ö—Ä–∞–Ω—è–µ–º –ª–æ–∫–∞–ª—å–Ω–æ!
    return res.status(503).json({ 
        error: 'MongoDB –≤—Ä–µ–º–µ–Ω–Ω–æ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞',
        mongoConfigured: true,
        mongoConnected: false
    });
}
```

### **–£—Ä–æ–≤–µ–Ω—å 3: –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è**

–ù–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è **–∫—Ä–∞—Å–Ω—ã–π –±–∞–Ω–Ω–µ—Ä**:

```
‚ö†Ô∏è –ó–ê–©–ò–¢–ê –î–ê–ù–ù–´–• –ê–ö–¢–ò–í–ò–†–û–í–ê–ù–ê
MongoDB –≤—Ä–µ–º–µ–Ω–Ω–æ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞. –î–∞–Ω–Ω—ã–µ –Ω–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –¥–ª—è –∑–∞—â–∏—Ç—ã –æ—Ç –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∏.
–î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –ª–æ–∫–∞–ª—å–Ω–æ –≤ –±—Ä–∞—É–∑–µ—Ä–µ. –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ.
```

### **–£—Ä–æ–≤–µ–Ω—å 4: –õ–æ–∫–∞–ª—å–Ω—ã–π –∫—ç—à**

–î–∞–Ω–Ω—ã–µ **–≤—Å–µ–≥–¥–∞ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ localStorage** –±—Ä–∞—É–∑–µ—Ä–∞ –∫–∞–∫ —Ä–µ–∑–µ—Ä–≤–Ω–∞—è –∫–æ–ø–∏—è.

---

## üìä –°—Ü–µ–Ω–∞—Ä–∏–∏ —Ä–∞–±–æ—Ç—ã

### ‚úÖ **–°—Ü–µ–Ω–∞—Ä–∏–π 1: –ù–æ—Ä–º–∞–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ (MongoDB –ø–æ–¥–∫–ª—é—á–µ–Ω–∞)**

```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ‚Üí –ò–∑–º–µ–Ω—è–µ—Ç –¥–∞–Ω–Ω—ã–µ ‚Üí saveAll()
                                    ‚Üì
                            –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ MongoDB ‚úÖ
                                    ‚Üì
                            –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ localStorage ‚úÖ
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –î–∞–Ω–Ω—ã–µ –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –≤ –æ–±–ª–∞–∫–µ

---

### üõ°Ô∏è **–°—Ü–µ–Ω–∞—Ä–∏–π 2: MongoDB –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞, –Ω–æ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞ (–ó–ê–©–ò–¢–ê)**

```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ‚Üí –ò–∑–º–µ–Ω—è–µ—Ç –¥–∞–Ω–Ω—ã–µ ‚Üí saveAll()
                                    ‚Üì
                            MongoDB –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞ ‚ùå
                                    ‚Üì
                            üõ°Ô∏è –ë–õ–û–ö–ò–†–û–í–ö–ê —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è
                                    ‚Üì
                            –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ç–æ–ª—å–∫–æ –≤ localStorage ‚úÖ
                                    ‚Üì
                            –ü–æ–∫–∞–∑ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é ‚ö†Ô∏è
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**

- ‚ùå –î–∞–Ω–Ω—ã–µ **–ù–ï –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞—é—Ç** MongoDB
- ‚úÖ –î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –ª–æ–∫–∞–ª—å–Ω–æ –≤ –±—Ä–∞—É–∑–µ—Ä–µ
- ‚ö†Ô∏è –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ

---

### ‚úÖ **–°—Ü–µ–Ω–∞—Ä–∏–π 3: MongoDB –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ (–∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π —Ä–µ–∂–∏–º)**

```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ‚Üí –ò–∑–º–µ–Ω—è–µ—Ç –¥–∞–Ω–Ω—ã–µ ‚Üí saveAll()
                                    ‚Üì
                            MongoDB –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞
                                    ‚Üì
                            –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ª–æ–∫–∞–ª—å–Ω—ã–µ JSON —Ñ–∞–π–ª—ã ‚úÖ
                                    ‚Üì
                            –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ localStorage ‚úÖ
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –†–∞–±–æ—Ç–∞ –≤ –ø–æ–ª–Ω–æ—Å—Ç—å—é –∞–≤—Ç–æ–Ω–æ–º–Ω–æ–º —Ä–µ–∂–∏–º–µ

---

## üöÄ –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –Ω–∞ Render

### **–ù–∞ Render –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–æ—Ä–º–∞–ª—å–Ω–æ:**

1. ‚úÖ –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è `MONGODB_URI` –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞
2. ‚úÖ –ò–Ω—Ç–µ—Ä–Ω–µ—Ç –≤—Å–µ–≥–¥–∞ –¥–æ—Å—Ç—É–ø–µ–Ω
3. ‚úÖ MongoDB –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è —É—Å–ø–µ—à–Ω–æ
4. ‚úÖ –î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –æ–±–ª–∞–∫–æ

**–í—ã–≤–æ–¥:** –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–¥–∞ –Ω–∞ Render **–±–µ–∑–æ–ø–∞—Å–Ω–æ!**

---

## üîç –õ–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞

### **–ü—Ä–∏ —É—Å–ø–µ—à–Ω–æ–º –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏:**

```
üì° –ü–æ–ø—ã—Ç–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ MongoDB...
‚úÖ –£—Å–ø–µ—à–Ω–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–æ –∫ MongoDB
üë§ –î–µ—Ñ–æ–ª—Ç–Ω—ã–π –∞–¥–º–∏–Ω —Å–æ–∑–¥–∞–Ω –≤ MongoDB
üíæ –î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –≤ MongoDB
```

### **–ü—Ä–∏ –ø–æ—Ç–µ—Ä–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è (–ó–ê–©–ò–¢–ê):**

```
üì° –ü–æ–ø—ã—Ç–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ MongoDB...
‚ùå –û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ MongoDB, –∏—Å–ø–æ–ª—å–∑—É—é –ª–æ–∫–∞–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã:
querySrv ECONNREFUSED _mongodb._tcp.cluster0...
‚ö†Ô∏è  –í–ù–ò–ú–ê–ù–ò–ï: MongoDB –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞, –Ω–æ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞.
‚ö†Ô∏è  –ó–ê–©–ò–¢–ê: –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ MongoDB –æ—Ç–∫–ª—é—á–µ–Ω–æ –¥–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è.

‚ö†Ô∏è  –ó–ê–©–ò–¢–ê: –ü–æ–ø—ã—Ç–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–∞!
‚ö†Ô∏è  MongoDB –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ –≤ .env, –Ω–æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –ø–æ—Ç–µ—Ä—è–Ω–æ.
‚ö†Ô∏è  –î–∞–Ω–Ω—ã–µ –ù–ï –±—É–¥—É—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –ª–æ–∫–∞–ª—å–Ω–æ, —á—Ç–æ–±—ã –Ω–µ –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∞—Ç—å –æ–±–ª–∞—á–Ω—É—é –ë–î.
üí° –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Å –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–æ–º –∏–ª–∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ MongoDB Atlas.
```

---

## üí° –ß—Ç–æ –¥–µ–ª–∞—Ç—å, –µ—Å–ª–∏ –≤–∏–¥–∏—Ç–µ –∑–∞—â–∏—Ç—É

### **–õ–æ–∫–∞–ª—å–Ω–æ (–Ω–∞ –≤–∞—à–µ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ):**

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ**

   ```powershell
   Test-NetConnection -ComputerName google.com
   ```

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ DNS**

   ```powershell
   nslookup cluster0.jut4x8p.mongodb.net
   ```

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ MongoDB Atlas**
   - –û—Ç–∫—Ä–æ–π—Ç–µ <https://cloud.mongodb.com>
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∫–ª–∞—Å—Ç–µ—Ä –∞–∫—Ç–∏–≤–µ–Ω

4. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä**

   ```powershell
   node server.js
   ```

### **–ù–∞ Render:**

–ù–∏—á–µ–≥–æ –¥–µ–ª–∞—Ç—å –Ω–µ –Ω—É–∂–Ω–æ! –ù–∞ Render –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.

---

## ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏

### **–ú–æ–∂–Ω–æ —Å–ø–æ–∫–æ–π–Ω–æ –¥–µ–ª–∞—Ç—å `git push`, –ø–æ—Ç–æ–º—É —á—Ç–æ:**

1. ‚úÖ –õ–æ–∫–∞–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã `data/*.json` **–ù–ï –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –≤ Git** (`.gitignore`)
2. ‚úÖ –ù–∞ Render MongoDB –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –Ω–æ—Ä–º–∞–ª—å–Ω–æ
3. ‚úÖ –ö–æ–¥ –Ω–µ –∏–∑–º–µ–Ω—è–µ—Ç –¥–∞–Ω–Ω—ã–µ, —Ç–æ–ª—å–∫–æ —É–ª—É—á—à–∞–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ
4. ‚úÖ –ó–∞—â–∏—Ç–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –ª–æ–∫–∞–ª—å–Ω–æ –ø—Ä–∏ –ø–æ—Ç–µ—Ä–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è

---

## üìã –ß–µ–∫–ª–∏—Å—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

- [x] –§–ª–∞–≥ `mongoDBWasConfigured` –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ä–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã
- [x] –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –ø—Ä–∏ –ø–æ—Ç–µ—Ä–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
- [x] –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ
- [x] –õ–æ–∫–∞–ª—å–Ω—ã–π –∫—ç—à –≤ localStorage
- [x] –õ–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç —Å—Ç–∞—Ç—É—Å –∑–∞—â–∏—Ç—ã
- [x] `.gitignore` –∑–∞—â–∏—â–∞–µ—Ç –æ—Ç –∑–∞–≥—Ä—É–∑–∫–∏ –ª–æ–∫–∞–ª—å–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
- [x] –ù–∞ Render –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–æ—Ä–º–∞–ª—å–Ω–æ

---

## üéØ –ò—Ç–æ–≥

**–í–∞—à–∏ –¥–∞–Ω–Ω—ã–µ –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏!** üéâ

–¢–µ–ø–µ—Ä—å –¥–∞–∂–µ –µ—Å–ª–∏ –ª–æ–∫–∞–ª—å–Ω–æ –ø–æ—Ç–µ—Ä—è–µ—Ç—Å—è —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Å MongoDB, –¥–∞–Ω–Ω—ã–µ **–ù–ï –ø–µ—Ä–µ–∑–∞–ø–∏—à—É—Ç** –æ–±–ª–∞—á–Ω—É—é –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö.

---

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 14.02.2026  
**–í–µ—Ä—Å–∏—è –∑–∞—â–∏—Ç—ã:** 2.0 (Multi-Level Protection)
