<div id="view-history" class="view">
    <div class="card" style="margin-bottom: 20px;">
        <div style="display: flex; flex-wrap: wrap; gap: 15px; align-items: flex-end;">
            <div class="form-group" style="margin-bottom: 0;">
                <label style="font-size: 12px; color: var(--text-muted);">–û—Ç</label>
                <input type="date" id="historyStart" onchange="window.HistoryModule.renderHistory()">
            </div>
            <div class="form-group" style="margin-bottom: 0;">
                <label style="font-size: 12px; color: var(--text-muted);">–î–æ</label>
                <input type="date" id="historyEnd" onchange="window.HistoryModule.renderHistory()">
            </div>
            <div class="form-group" style="margin-bottom: 0;">
                <label style="font-size: 12px; color: var(--text-muted);">–†–µ–∂–∏–º</label>
                <select id="historyMode" onchange="window.HistoryModule.renderHistory()"
                    style="background: var(--bg-input); color: var(--text); border: 1px solid var(--border); border-radius: 8px; padding: 8px;">
                    <option value="sales">üí∞ –ü—Ä–æ–¥–∞–∂–∏</option>
                    <option value="actions">üìú –í—Å–µ –¥–µ–π—Å—Ç–≤–∏—è (–õ–æ–≥–∏)</option>
                </select>
            </div>
            <div id="actionFilterContainer" class="form-group" style="margin-bottom: 0; display: none;">
                <label style="font-size: 12px; color: var(--text-muted);">–û–ø–µ—Ä–∞—Ü–∏—è</label>
                <select id="actionTypeFilter" onchange="window.HistoryModule.renderHistory()"
                    style="background: var(--bg-input); color: var(--text); border: 1px solid var(--border); border-radius: 8px; padding: 8px;">
                    <option value="all">–í—Å–µ</option>
                    <option value="add_product">–î–æ–±–∞–≤–ª–µ–Ω–∏–µ</option>
                    <option value="edit_product">–ò–∑–º–µ–Ω–µ–Ω–∏–µ</option>
                    <option value="delete_product">–£–¥–∞–ª–µ–Ω–∏–µ</option>
                    <option value="transfer_to_shop">–í –º–∞–≥–∞–∑–∏–Ω</option>
                    <option value="login">–í—Ö–æ–¥—ã</option>
                </select>
            </div>
            <button class="btn btn-outline" onclick="exportHistoryCSV()" style="margin-left: auto;">Excel (CSV)</button>
        </div>
    </div>

    <div class="card">
        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
            <h3 id="historyTitle">–ò—Å—Ç–æ—Ä–∏—è –ø—Ä–æ–¥–∞–∂</h3>
        </div>
        <div class="table-container">
            <table style="margin-top: 10px;">
                <thead id="history-thead">
                    <tr>
                        <th style="width: 150px;">–î–∞—Ç–∞/–í—Ä–µ–º—è</th>
                        <th>–ö–ª–∏–µ–Ω—Ç</th>
                        <th>–°–æ—Å—Ç–∞–≤ –∑–∞–∫–∞–∑–∞ / –û–ø–∏—Å–∞–Ω–∏–µ</th>
                        <th>–°—É–º–º–∞ / –î–µ—Ç–∞–ª–∏</th>
                        <th>–¢–∏–ø</th>
                        <th style="width: 80px;"></th>
                    </tr>
                </thead>
                <tbody id="history-tbody"></tbody>
            </table>
        </div>
    </div>
</div>